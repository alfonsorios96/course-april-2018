<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-button/paper-button.html">

<dom-module id="component-container">
  <template>
    <style>
      :host {
        display: block;
      }

      :container {
        width: 100%;
        height: 200%;
        border: 1px solid black;
        display: flex;
        flex-direction: row;
      }

      .container__image {
        display: flex;
        flex-direction: column;
      }

    </style>
    <h2>Hello [[prop1]]!</h2>
    <div class="container">
      <template is="dom-repeat" items="[[dataImages]]" as="columns" >
        <div class="container__image" width$="[[getImageWidht()]]">
          <template is="dom-repeat" items="[[columns]]" as="image">
        <img class="image" src="../img/[[image.url]]" alt="[[image.name]]" width="100%" height$="[[ getImageHeight(columns)]]">
          </template>
        </div>


      </template>
    </div>
    <paper-button toggles>Toggle-able button</paper-button>
  </template>

  <script>
    /**
     * `component-container`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class ComponentContainer extends Polymer.Element {
      static get is() { return 'component-container'; }
      static get properties() {
        return {
          prop1: {
            type: String,
            value: 'component-container'
          },
          dataImages: {
            type: Array,
            value: ''

          }
        };
      }

      getImageWidht(){
        const total = 100;
        let width = total / this.dataImages.length;
        return `${width}px`;
      }
      getImageHeight(columns){
        const total = 200;
        let height = total / columns.length;
        return `${height}px`;
      }
    }

    window.customElements.define(ComponentContainer.is, ComponentContainer);
  </script>
</dom-module>